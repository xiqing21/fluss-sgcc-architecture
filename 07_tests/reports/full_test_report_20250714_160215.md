# 🚀 SGCC Fluss 全链路验证测试报告

**测试开始时间**: 07/14/2025 16:02:15  
**测试环境**: Docker Compose + Fluss 0.7.0 + Flink 1.20 + PostgreSQL  
**测试版本**: v1.0  
**运行平台**: Windows PowerShell

---

## 📊 测试概览

[INFO] 🌟 步骤1: 启动测试环境
[INFO] 停止现有环境...
[INFO] 清理Docker卷...
[INFO] 启动Docker Compose环境...
[SUCCESS] 环境启动成功
[INFO] 等待服务就绪...
[INFO] 验证服务状态...
[SUCCESS] ✅ coordinator-server-sgcc 服务正常
[SUCCESS] ✅ tablet-server-sgcc 服务正常
[SUCCESS] ✅ jobmanager-sgcc 服务正常
[SUCCESS] ✅ taskmanager-sgcc-1 服务正常
[SUCCESS] ✅ postgres-sgcc-source 服务正常
[SUCCESS] ✅ postgres-sgcc-sink 服务正常
[INFO] 🔍 步骤2: 数据验证
[INFO] 验证PostgreSQL源数据...
[WARNING] ⚠️ 源数据验证失败: Method invocation failed because [System.Management.Automation.ErrorRecord] does not contain a method named 'Trim'.
[INFO] 验证Fluss数据湖各层数据...
[INFO] 执行: Fluss数据湖验证
[SUCCESS] ✅ Fluss数据湖验证 完成 (耗时: 10秒)
[SUCCESS] ✅ Fluss数据湖验证完成
[INFO] 验证PostgreSQL目标数据...
[WARNING] ⚠️ 目标数据验证失败: Method invocation failed because [System.Management.Automation.ErrorRecord] does not contain a method named 'Trim'.
[INFO] 🎯 步骤3: 业务场景测试
[INFO] 执行: 场景1_高频维度表服务
[SUCCESS] ✅ 场景1_高频维度表服务 完成 (耗时: 34秒)
[INFO] 执行: 场景2_智能双流JOIN
[SUCCESS] ✅ 场景2_智能双流JOIN 完成 (耗时: 30秒)
[INFO] 执行: 场景3_时间旅行查询
[SUCCESS] ✅ 场景3_时间旅行查询 完成 (耗时: 30秒)
[INFO] 执行: 场景4_柱状流优化
[SUCCESS] ✅ 场景4_柱状流优化 完成 (耗时: 34秒)
[INFO] 🔄 步骤4: 增删改操作测试
[INFO] 执行增删改操作...
[ERROR] ❌ 增删改操作执行失败: psql: error: connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: FATAL:  database "sgcc_source" does not exist
[INFO] 📈 步骤5: 性能指标统计
[INFO] 获取Flink作业信息...

## 📈 性能指标统计

| 指标 | 数值 |
|------|------|
| 总耗时 | 290秒 |
| 处理记录数 | 0 |
| 创建作业数 | 5 |
| 当前运行作业数 | 22 |
| 测试场景数 | 4 |
| 成功场景数 | 4 |
| 失败场景数 | 0 |
| 数据吞吐量 | 0 记录/秒 |
| 成功率 | 100% |

## 🔧 系统资源使用情况

[INFO] 获取容器资源使用情况...
NAME                      CPU %     MEM USAGE / LIMIT
taskmanager-sgcc-1        10.10%    876.2MiB / 7.194GiB
sql-client-sgcc           0.01%     46.96MiB / 7.194GiB
taskmanager-sgcc-2        5.08%     928.1MiB / 7.194GiB
jobmanager-sgcc           2.04%     969.4MiB / 7.194GiB
tablet-server-sgcc        2.84%     288.9MiB / 7.194GiB
coordinator-server-sgcc   0.24%     224.9MiB / 7.194GiB
postgres-sgcc-sink        0.00%     35.31MiB / 7.194GiB
mysql-sgcc-sink           0.61%     380.6MiB / 7.194GiB
postgres-sgcc-source      0.02%     57.59MiB / 7.194GiB
zookeeper-sgcc            0.12%     101.4MiB / 7.194GiB
[SUCCESS] 📊 测试完成统计：
[SUCCESS]   - 总耗时: 290秒
[SUCCESS]   - 处理记录数: 0
[SUCCESS]   - 创建作业数: 5
[SUCCESS]   - 成功场景数: 4/4
[SUCCESS]   - 数据吞吐量: 0 记录/秒
[SUCCESS]   - 成功率: 100%
[SUCCESS] 🎉 全链路验证测试完成！
[SUCCESS] 📄 详细报告: test-reports/full_test_report_20250714_160215.md
